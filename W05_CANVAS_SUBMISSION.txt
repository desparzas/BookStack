W05 PROJECT CHECKPOINT - BOOKSTACK
Team: Arthur Weale, Jaime Santiago Herrera, David Esparza
Submitted by: David Esparza

=== PARTICIPANTS ===

Live Meeting Participants: David Esparza (Individual work)
Date: November 29, 2024

Note: Andrea Brenzink de Oliveira Ferreira left the group earlier. Arthur Weale and Jaime Santiago Herrera have not responded to any communication attempts. All work continues to be completed individually.

=== SUMMARY OF WEEK 5 ACTIVITY ===

CHALLENGES:
- Continued lack of team participation and communication
- Balancing implementation scope with academic deadlines
- Ensuring database relationships work correctly with EF Core
- Designing intuitive UI/UX for book management features
- Managing time between this project and other coursework

SUCCESSES:
- ✅ Successfully built complete full-stack application from scratch
- ✅ Implemented complex many-to-many relationships in database
- ✅ Created functional REST API with 13 endpoints
- ✅ Developed responsive Blazor UI with interactive components
- ✅ Database auto-seeding works correctly on first run
- ✅ Application builds and runs without errors
- ✅ Code pushed to GitHub repository
- ✅ Project documentation completed

NEW TASKS COMPLETED THIS WEEK:
- ✅ Add book creation dialog (modal form) - COMPLETED

NEW TASKS ADDED TO BACKLOG:
- Implement book details page with full information
- Add edit book dialog (similar to add dialog)
- Add delete book confirmation dialog
- Add user authentication with ASP.NET Core Identity
- Create review editing functionality
- Implement frontend search UI with filters
- Add book cover image upload feature
- Create reading statistics dashboard
- Add ability to add new authors and genres from dialog

CHANGE ORDERS:
- Removed OpenAPI/Swagger integration due to version compatibility issues
- Simplified initial scope to focus on core CRUD operations
- Postponed external API integration (Google Books) to future iterations
- Decided to use SQLite for both development and initial production deployment

=== AZURE DEVOPS PROJECT URL ===

[INSERT YOUR AZURE DEVOPS URL HERE]
Format: https://dev.azure.com/{your-org}/BookStack

Board includes 8 User Stories:
- 5 completed (assigned to David Esparza)
- 3 pending for future development

=== DETAILED TASK REPORT ===

TASK: "Add Book Creation Dialog" (User Story #6)
STATUS: Completed (Week 5)
ASSIGNED TO: David Esparza
AZURE DEVOPS WORK ITEM ID: [Your work item ID for User Story #6]

DESCRIPTION:
This task involved implementing a modal dialog component for adding new books to the library. The feature provides a complete form with validation, allowing users to input all book details including title, description, ISBN, publication year, page count, cover image URL, and select multiple authors and genres through checkboxes.

TECHNICAL IMPLEMENTATION:

1. Created BookCreateDto (Data Transfer Object):
   - Location: BookStack.Web/Models/BookCreateDto.cs
   - Purpose: Separate DTO for creating books to avoid exposing internal entity structure
   - Properties: Title, Description, ISBN, PublicationYear, CoverImageUrl, PageCount
   - Collections: AuthorIds (List<int>), GenreIds (List<int>) for many-to-many relationships
   - Validation: DataAnnotations for required fields, string length, regex for ISBN, range for year/pages

2. Created AddBookDialog Blazor Component:
   - Location: BookStack.Web/Components/Dialogs/AddBookDialog.razor
   - Component Type: Interactive modal dialog with form
   - Total Lines: 250+ lines of Razor markup and C# code
   - Features Implemented:
     * Bootstrap modal with backdrop overlay
     * EditForm with DataAnnotationsValidator for client-side validation
     * InputText components for text fields (Title, Description, ISBN, CoverImageUrl)
     * InputNumber components for numeric fields (PublicationYear, PageCount)
     * InputTextArea for multi-line description
     * Checkbox lists for selecting multiple authors and genres
     * Loading spinner during save operation
     * Success and error message display
     * Cancel and Submit buttons with proper state management

3. Component Parameters and Events:
   - IsVisible (bool): Controls dialog visibility
   - IsVisibleChanged (EventCallback): Two-way binding for visibility state
   - OnBookAdded (EventCallback): Notifies parent when book is added successfully
   - Implements proper Blazor component parameter binding patterns

4. Database Operations:
   - Injects BookStackContext directly into the component
   - Loads available authors and genres on component initialization
   - Creates new Book entity from DTO
   - Adds BookAuthor relationships for selected authors
   - Adds BookGenre relationships for selected genres
   - Uses transactions implicitly through SaveChangesAsync()
   - Implements proper async/await patterns throughout

5. Updated Books.razor Page:
   - Location: BookStack.Web/Components/Pages/Books.razor
   - Added using directive for BookStack.Web.Components.Dialogs namespace
   - Integrated AddBookDialog component with parameter binding
   - Added showAddDialog boolean state variable
   - Implemented ShowAddBookDialog() method to open modal
   - Implemented HandleBookAdded() callback to reload books after adding
   - Added icon to "Add New Book" button for better UX
   - Books list now orders by DateAdded descending (newest first)

6. Global Configuration:
   - Updated _Imports.razor to include Dialogs namespace globally
   - Makes dialog components available to all pages without explicit using

CHALLENGES ENCOUNTERED:
- Bootstrap Modal Integration: Blazor doesn't have built-in modal support, had to use CSS/HTML approach
- Checkbox Binding: Needed custom logic to toggle items in/out of selected lists
- Two-Way Parameter Binding: Required EventCallback pattern for IsVisibleChanged
- Form State Management: Managing validation, loading states, and error/success messages
- Relationship Creation: Ensuring author and genre relationships are added after book creation

SOLUTIONS IMPLEMENTED:
- Custom CSS classes (fade show d-block) to display Bootstrap modal without JavaScript
- ToggleAuthor() and ToggleGenre() methods to handle checkbox state changes
- Proper EventCallback pattern with IsVisible/IsVisibleChanged parameters
- Separate boolean flags (isSaving) and nullable strings (errorMessage, successMessage)
- Sequential database operations: create book, save, then add relationships, save again

FIT WITHIN PROJECT SCOPE:
This feature is essential for the BookStack application because:
- Enables users to add books to their library (core CRUD operation)
- Validates input data before saving to maintain data integrity
- Provides intuitive UI through modal dialog pattern
- Supports many-to-many relationships with authors and genres
- Demonstrates proper Blazor component architecture
- Shows mastery of form handling and validation in Blazor

The dialog-based approach is superior to a separate page because:
- Better user experience (no navigation required)
- Faster interaction (modal opens instantly)
- Context preservation (user stays on books list)
- Modern web application pattern

FUNCTIONALITY DELIVERED:
✅ Complete modal dialog for adding books
✅ Form validation with DataAnnotations
✅ Multi-select for authors and genres (checkbox lists)
✅ ISBN validation with regex (10 or 13 digits)
✅ Year and page count validation with range
✅ Success/error message display
✅ Loading state with spinner during save
✅ Automatic books list refresh after adding
✅ Form reset after successful submission
✅ Cancel functionality with form reset
✅ Proper async database operations
✅ Many-to-many relationship creation

CODE LOCATIONS:
- DTO Model: BookStack.Web/Models/BookCreateDto.cs (29 lines)
- Dialog Component: BookStack.Web/Components/Dialogs/AddBookDialog.razor (250+ lines)
- Books Page: BookStack.Web/Components/Pages/Books.razor (updated, 141 lines total)
- Global Imports: BookStack.Web/Components/_Imports.razor (updated, line 11)

TESTING PERFORMED:
✅ Dialog opens when "Add New Book" button is clicked
✅ Form validation works (required fields, string lengths, ranges)
✅ ISBN regex validation accepts 10 or 13 digits
✅ Multiple authors and genres can be selected
✅ Book saves successfully to database
✅ BookAuthor and BookGenre relationships created correctly
✅ Books list refreshes and shows new book at top
✅ Dialog closes automatically after successful save
✅ Cancel button works and resets form
✅ Error messages display when save fails
✅ Success message displays before closing
✅ Loading spinner shows during save operation

USER EXPERIENCE IMPROVEMENTS:
- Modal backdrop prevents accidental clicks outside
- Bootstrap styling provides professional appearance
- Icon on "Add New Book" button improves visual clarity
- Validation messages appear immediately under fields
- Spinner prevents double-submission during save
- Scrollable checkbox lists for many authors/genres
- Helper text under ISBN field shows expected format

TIME INVESTED: Approximately 2-3 hours including:
- 30 minutes: DTO design and creation
- 90 minutes: Dialog component development and styling
- 30 minutes: Integration with Books page
- 30 minutes: Testing and bug fixes

=== ADDITIONAL CONTEXT: PREVIOUS WORK (W01-W04) ===

The foundation for this week's Add Book Dialog feature was built in previous weeks:

W01-W02: Initial Setup
- Created Blazor Server project structure
- Configured Entity Framework Core with SQLite
- Set up dependency injection

W02-W03: Database and Models
- Created 7 entity models with validation
- Implemented DbContext with many-to-many relationships
- Created comprehensive seed data

W03-W04: API and UI Foundation
- Built BooksController with 6 endpoints
- Built ShelvesController with 7 endpoints
- Created Books catalog page (where dialog is integrated)
- Developed Home dashboard and Shelves management page

This week (W05) focused specifically on implementing the Add Book Creation Dialog feature, which builds upon all these previous components to provide a complete user-facing feature for adding books to the library.

=== PROJECT STATUS ===

Current State: MVP+ (Core Features + Add Book Dialog)
Build Status: ✅ Successful (0 errors, 1 warning about analyzer version)
Database: ✅ Working with sample data
API: ✅ All endpoints functional
UI: ✅ Responsive and interactive
New Feature: ✅ Add Book Dialog fully functional
GitHub: ✅ Code pushed and up to date (Week 5 changes committed)

Features Completed:
- ✅ Database layer with many-to-many relationships
- ✅ REST API with 13 endpoints
- ✅ Blazor UI pages (Home, Books, Shelves)
- ✅ Add Book Dialog with validation (Week 5)
- ✅ Real-time list refresh after adding books

Next Steps:
- Add book details page with full information
- Implement edit book dialog
- Add delete confirmation dialog
- Implement user authentication
- Add review management UI
- Enhance search functionality with filters

=== TEAM COLLABORATION NOTES ===

Despite continued efforts to engage team members, no responses have been received. All project work has been completed independently with full transparency to the instructor about the team situation.

I remain open to integrating contributions from team members if they become available, and have structured the code to be maintainable and extensible for potential future collaboration.

---
Submitted by: David Esparza
Course: CSE 325 - .NET Development
Date: November 29, 2024
